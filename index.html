<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ –ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏ | –õ–æ–∫–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-color: #3a86ff;
            --secondary-color: #8338ec;
            --accent-color: #ff006e;
            --success-color: #38b000;
            --warning-color: #ffbe0b;
            --danger-color: #fb5607;
            --dark-color: #1a1a2e;
            --light-color: #f8f9fa;
            --gray-color: #6c757d;
            --board-color: #2d3047;
            --cell-color: #414361;
        }
        
        body {
            background: linear-gradient(135deg, var(--dark-color) 0%, #16213e 100%);
            color: var(--light-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            transition: all 0.3s ease;
            overflow-x: hidden;
        }
        
        .language-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .lang-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--light-color);
            padding: 8px 16px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .lang-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            position: relative;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 3.2rem;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            color: var(--gray-color);
            font-size: 1.2rem;
            margin-bottom: 30px;
        }
        
        .menu {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .menu-btn {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            color: var(--light-color);
            padding: 12px 24px;
            border-radius: 50px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .menu-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .menu-btn.active {
            background: var(--primary-color);
            box-shadow: 0 0 20px rgba(58, 134, 255, 0.5);
        }
        
        .menu-btn i {
            font-size: 1.2rem;
        }
        
        .game-container {
            display: none;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 30px;
        }
        
        .game-container.active {
            display: grid;
        }
        
        @media (max-width: 992px) {
            .game-container {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .panel-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .panel-title i {
            color: var(--accent-color);
        }
        
        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-box {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--warning-color);
            line-height: 1;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: var(--gray-color);
            margin-top: 5px;
        }
        
        .player-turn {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .player-turn.x-turn {
            border-left: 4px solid var(--accent-color);
        }
        
        .player-turn.o-turn {
            border-left: 4px solid var(--primary-color);
        }
        
        .turn-indicator {
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
        
        .x-turn .turn-indicator {
            background-color: var(--accent-color);
            box-shadow: 0 0 10px var(--accent-color);
        }
        
        .o-turn .turn-indicator {
            background-color: var(--primary-color);
            box-shadow: 0 0 10px var(--primary-color);
        }
        
        .player-info {
            margin-bottom: 20px;
        }
        
        .player-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }
        
        .player-card.active {
            background: rgba(58, 134, 255, 0.1);
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .player-name {
            font-size: 1.3rem;
            font-weight: bold;
        }
        
        .player-symbol {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
        }
        
        .player-symbol.x {
            background-color: var(--accent-color);
            color: white;
            box-shadow: 0 0 15px rgba(255, 0, 110, 0.3);
        }
        
        .player-symbol.o {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 0 15px rgba(58, 134, 255, 0.3);
        }
        
        .player-stats {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: var(--gray-color);
        }
        
        .game-board {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .game-status {
            font-size: 1.8rem;
            margin-bottom: 25px;
            text-align: center;
            padding: 15px 25px;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: 100%;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .game-status.win {
            background: rgba(56, 176, 0, 0.15);
            color: var(--success-color);
            border-color: rgba(56, 176, 0, 0.3);
            animation: pulse-win 2s infinite;
        }
        
        .game-status.lose {
            background: rgba(251, 86, 7, 0.15);
            color: var(--danger-color);
            border-color: rgba(251, 86, 7, 0.3);
        }
        
        .game-status.draw {
            background: rgba(255, 190, 11, 0.15);
            color: var(--warning-color);
            border-color: rgba(255, 190, 11, 0.3);
            animation: pulse-draw 2s infinite;
        }
        
        @keyframes pulse-win {
            0% { box-shadow: 0 0 0 0 rgba(56, 176, 0, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(56, 176, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(56, 176, 0, 0); }
        }
        
        @keyframes pulse-draw {
            0% { box-shadow: 0 0 0 0 rgba(255, 190, 11, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 190, 11, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 190, 11, 0); }
        }
        
        .board-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            margin: 20px auto;
        }
        
        .board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-gap: 15px;
            width: 100%;
            aspect-ratio: 1;
            background: var(--board-color);
            border-radius: 20px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .cell {
            background: var(--cell-color);
            border: none;
            border-radius: 15px;
            font-size: 4.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        .cell::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.05);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .cell:hover::before {
            opacity: 1;
        }
        
        .cell:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
        }
        
        .cell:disabled {
            cursor: not-allowed;
            opacity: 0.9;
        }
        
        .cell:disabled:hover {
            transform: none;
            box-shadow: none;
        }
        
        .cell.x {
            color: var(--accent-color);
            text-shadow: 0 0 20px rgba(255, 0, 110, 0.7);
        }
        
        .cell.o {
            color: var(--primary-color);
            text-shadow: 0 0 20px rgba(58, 134, 255, 0.7);
        }
        
        .winning-cell {
            background: rgba(255, 190, 11, 0.3);
            animation: pulse 1.5s infinite;
            position: relative;
        }
        
        .winning-cell::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255, 190, 11, 0.3), transparent);
            animation: shine 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 190, 11, 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(255, 190, 11, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 190, 11, 0); }
        }
        
        @keyframes shine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 25px;
        }
        
        .btn {
            padding: 15px 25px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background: #2a75ff;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(58, 134, 255, 0.4);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--light-color);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
        }
        
        .btn-accent {
            background: var(--accent-color);
            color: white;
        }
        
        .btn-accent:hover {
            background: #e00063;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(255, 0, 110, 0.4);
        }
        
        .btn:disabled {
            background: var(--gray-color);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .game-modes {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }
        
        .mode-btn {
            padding: 20px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--light-color);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .mode-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
        }
        
        .mode-btn.active {
            background: var(--primary-color);
            border-color: var(--primary-color);
            box-shadow: 0 5px 15px rgba(58, 134, 255, 0.3);
        }
        
        .mode-icon {
            font-size: 2.5rem;
            color: var(--accent-color);
        }
        
        .mode-name {
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .mode-desc {
            font-size: 0.9rem;
            color: var(--gray-color);
        }
        
        .menu-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            text-align: center;
        }
        
        .menu-screen.active {
            display: flex;
        }
        
        .menu-title {
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: var(--primary-color);
        }
        
        .menu-options {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 500px;
            width: 100%;
        }
        
        .menu-option {
            padding: 25px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .menu-option:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }
        
        .menu-option i {
            font-size: 3rem;
            color: var(--accent-color);
        }
        
        .option-title {
            font-size: 1.8rem;
            color: var(--light-color);
        }
        
        .option-desc {
            color: var(--gray-color);
            font-size: 1rem;
        }
        
        footer {
            margin-top: 40px;
            text-align: center;
            color: var(--gray-color);
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            width: 100%;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            border-radius: 12px;
            background: var(--primary-color);
            color: white;
            font-weight: 600;
            z-index: 1001;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .notification.show {
            opacity: 1;
        }
        
        .player-inputs {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }
        
        .player-input {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .player-input label {
            color: var(--gray-color);
            font-size: 0.9rem;
        }
        
        .player-input input {
            padding: 12px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1rem;
        }
        
        .player-input input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(58, 134, 255, 0.2);
        }
        
        .difficulty-levels {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 20px;
        }
        
        .level-btn {
            padding: 15px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--light-color);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .level-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-3px);
        }
        
        .level-btn.active {
            background: var(--primary-color);
            border-color: var(--primary-color);
            box-shadow: 0 5px 15px rgba(58, 134, 255, 0.3);
        }
        
        .level-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .level-desc {
            font-size: 0.8rem;
            color: var(--gray-color);
        }
        
        .settings-options {
            display: flex;
            flex-direction: column;
            gap: 20px;
            max-width: 500px;
            width: 100%;
        }
        
        .setting-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 30px;
        }
        
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--gray-color);
            transition: .4s;
            border-radius: 34px;
        }
        
        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 22px;
            width: 22px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .toggle-slider {
            background-color: var(--primary-color);
        }
        
        input:checked + .toggle-slider:before {
            transform: translateX(30px);
        }
        
        @media (max-width: 768px) {
            .game-container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .menu {
                flex-direction: column;
                align-items: center;
            }
            
            .menu-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            .game-modes {
                grid-template-columns: 1fr;
            }
            
            .difficulty-levels {
                grid-template-columns: 1fr;
            }
            
            .board {
                max-width: 350px;
            }
            
            .cell {
                font-size: 3.5rem;
            }
            
            .mode-btn {
                padding: 15px;
            }
        }
        
        .winning-line {
            position: absolute;
            background: var(--warning-color);
            z-index: 10;
            border-radius: 5px;
            opacity: 0.8;
        }
        
        .line-horizontal {
            width: 90%;
            height: 10px;
        }
        
        .line-vertical {
            width: 10px;
            height: 90%;
        }
        
        .line-diagonal-1 {
            width: 120%;
            height: 10px;
            transform: rotate(45deg);
            transform-origin: left center;
        }
        
        .line-diagonal-2 {
            width: 120%;
            height: 10px;
            transform: rotate(-45deg);
            transform-origin: left center;
        }
        
        .timer {
            font-size: 1.2rem;
            color: var(--warning-color);
            font-weight: bold;
            text-align: center;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="language-switcher">
        <button class="lang-btn" id="langBtn">
            <i class="fas fa-globe"></i>
            <span id="langText">–†—É—Å—Å–∫–∏–π</span>
        </button>
    </div>
    
    <div class="container">
        <header>
            <h1 id="gameTitle">üéÆ –ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏</h1>
            <div class="subtitle" id="gameSubtitle">–õ–æ–∫–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞ –¥–ª—è –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤</div>
        </header>
        
        <div class="menu">
            <button class="menu-btn active" id="playBtn" data-screen="game">
                <i class="fas fa-gamepad"></i>
                <span id="menuPlay">–ò–≥—Ä–∞—Ç—å</span>
            </button>
            <button class="menu-btn" id="multiplayerBtn" data-screen="multiplayer">
                <i class="fas fa-users"></i>
                <span id="menuMultiplayer">2 –∏–≥—Ä–æ–∫–∞</span>
            </button>
            <button class="menu-btn" id="statsBtn" data-screen="stats">
                <i class="fas fa-chart-bar"></i>
                <span id="menuStats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</span>
            </button>
            <button class="menu-btn" id="settingsBtn" data-screen="settings">
                <i class="fas fa-cog"></i>
                <span id="menuSettings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
            </button>
        </div>
        
        <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
        <div class="game-container active" id="gameScreen">
            <div class="panel">
                <div class="panel-title">
                    <i class="fas fa-users"></i>
                    <span id="playersTitle">–ò–≥—Ä–æ–∫–∏</span>
                </div>
                
                <div class="player-info">
                    <div class="player-card active" id="player1Card">
                        <div class="player-header">
                            <div class="player-name" id="player1Name">–ò–≥—Ä–æ–∫ 1</div>
                            <div class="player-symbol x">X</div>
                        </div>
                        <div class="player-stats">
                            <div id="player1Wins">–ü–æ–±–µ–¥: <span id="player1WinsCount">0</span></div>
                            <div id="player1Score">–û—á–∫–∏: <span id="player1ScoreCount">0</span></div>
                        </div>
                    </div>
                    
                    <div class="player-card" id="player2Card">
                        <div class="player-header">
                            <div class="player-name" id="player2Name">–ò–≥—Ä–æ–∫ 2</div>
                            <div class="player-symbol o">O</div>
                        </div>
                        <div class="player-stats">
                            <div id="player2Wins">–ü–æ–±–µ–¥: <span id="player2WinsCount">0</span></div>
                            <div id="player2Score">–û—á–∫–∏: <span id="player2ScoreCount">0</span></div>
                        </div>
                    </div>
                </div>
                
                <div class="player-turn x-turn" id="playerTurn">
                    <div class="turn-indicator"></div>
                    <span id="turnText">–•–æ–¥ –∏–≥—Ä–æ–∫–∞: <strong>–ò–≥—Ä–æ–∫ 1 (X)</strong></span>
                </div>
                
                <div class="stats">
                    <div class="stat-box">
                        <div class="stat-value" id="totalGamesCount">0</div>
                        <div class="stat-label" id="totalGamesLabel">–í—Å–µ–≥–æ –∏–≥—Ä</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-value" id="totalDrawsCount">0</div>
                        <div class="stat-label" id="totalDrawsLabel">–ù–∏—á—å–∏—Ö</div>
                    </div>
                </div>
                
                <div class="controls">
                    <button class="btn btn-primary" id="newGameBtn">
                        <i class="fas fa-plus-circle"></i>
                        <span id="newGameText">–ù–æ–≤–∞—è –∏–≥—Ä–∞</span>
                    </button>
                    <button class="btn btn-secondary" id="restartBtn">
                        <i class="fas fa-redo"></i>
                        <span id="restartText">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</span>
                    </button>
                    <button class="btn btn-accent" id="swapPlayersBtn">
                        <i class="fas fa-random"></i>
                        <span id="swapPlayersText">–ü–æ–º–µ–Ω—è—Ç—å —Å—Ç–æ—Ä–æ–Ω—ã</span>
                    </button>
                </div>
            </div>
            
            <div class="panel game-board">
                <div class="game-status" id="gameStatus">
                    <span id="statusMessage">–•–æ–¥ –∏–≥—Ä–æ–∫–∞: –ò–≥—Ä–æ–∫ 1 (X)</span>
                </div>
                
                <div class="board-container">
                    <div class="board" id="gameBoard">
                        <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ JavaScript -->
                    </div>
                    <!-- –õ–∏–Ω–∏–∏ –¥–ª—è –ø–æ–±–µ–¥—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
                </div>
                
                <div class="game-modes">
                    <div class="mode-btn active" id="modeTwoPlayers">
                        <i class="fas fa-users mode-icon"></i>
                        <div class="mode-name" id="modeTwoPlayersName">2 –∏–≥—Ä–æ–∫–∞</div>
                        <div class="mode-desc" id="modeTwoPlayersDesc">–ò–≥—Ä–∞–π—Ç–µ –≤–¥–≤–æ–µ–º –Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</div>
                    </div>
                    <div class="mode-btn" id="modeVsAI">
                        <i class="fas fa-robot mode-icon"></i>
                        <div class="mode-name" id="modeVsAIName">–ü—Ä–æ—Ç–∏–≤ –ò–ò</div>
                        <div class="mode-desc" id="modeVsAIDesc">–°—Ä–∞–∑–∏—Ç–µ—Å—å —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º</div>
                    </div>
                </div>
                
                <div class="difficulty-levels" id="difficultyLevels">
                    <div class="level-btn active" data-level="easy">
                        <div class="level-name" id="levelEasy">–õ–µ–≥–∫–∏–π</div>
                        <div class="level-desc" id="levelEasyDesc">–ò–ò –¥–µ–ª–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ —Ö–æ–¥—ã</div>
                    </div>
                    <div class="level-btn" data-level="medium">
                        <div class="level-name" id="levelMedium">–°—Ä–µ–¥–Ω–∏–π</div>
                        <div class="level-desc" id="levelMediumDesc">–ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏</div>
                    </div>
                    <div class="level-btn" data-level="hard">
                        <div class="level-name" id="levelHard">–°–ª–æ–∂–Ω—ã–π</div>
                        <div class="level-desc" id="levelHardDesc">–ò–ò –ø–æ—á—Ç–∏ –Ω–µ–ø–æ–±–µ–¥–∏–º</div>
                    </div>
                </div>
            </div>
            
            <div class="panel">
                <div class="panel-title">
                    <i class="fas fa-trophy"></i>
                    <span id="historyTitle">–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä</span>
                </div>
                
                <div class="game-history" id="gameHistory">
                    <!-- –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                    <div class="no-history" id="noHistoryText">–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä –ø—É—Å—Ç–∞</div>
                </div>
                
                <div class="controls">
                    <button class="btn btn-secondary" id="clearHistoryBtn">
                        <i class="fas fa-trash-alt"></i>
                        <span id="clearHistoryText">–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –º–µ–Ω—é -->
        <div class="menu-screen" id="menuScreen">
            <div class="menu-title" id="menuTitle">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</div>
            <div class="menu-options">
                <div class="menu-option" id="playOption">
                    <i class="fas fa-gamepad"></i>
                    <div class="option-title" id="playOptionTitle">–ò–≥—Ä–∞—Ç—å</div>
                    <div class="option-desc" id="playOptionDesc">–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É</div>
                </div>
                <div class="menu-option" id="twoPlayersOption">
                    <i class="fas fa-users"></i>
                    <div class="option-title" id="twoPlayersOptionTitle">–î–≤–∞ –∏–≥—Ä–æ–∫–∞</div>
                    <div class="option-desc" id="twoPlayersOptionDesc">–ò–≥—Ä–∞—Ç—å –≤–¥–≤–æ–µ–º –Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</div>
                </div>
                <div class="menu-option" id="statsOption">
                    <i class="fas fa-chart-bar"></i>
                    <div class="option-title" id="statsOptionTitle">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
                    <div class="option-desc" id="statsOptionDesc">–ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∞—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</div>
                </div>
                <div class="menu-option" id="settingsOption">
                    <i class="fas fa-cog"></i>
                    <div class="option-title" id="settingsOptionTitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                    <div class="option-desc" id="settingsOptionDesc">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞</div>
                </div>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤ -->
        <div class="menu-screen" id="twoPlayersScreen">
            <div class="menu-title" id="twoPlayersTitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä–æ–∫–æ–≤</div>
            <div class="player-inputs">
                <div class="player-input">
                    <label for="player1NameInput" id="player1Label">–ò–º—è –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞:</label>
                    <input type="text" id="player1NameInput" value="–ò–≥—Ä–æ–∫ 1" maxlength="15">
                </div>
                <div class="player-input">
                    <label for="player2NameInput" id="player2Label">–ò–º—è –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞:</label>
                    <input type="text" id="player2NameInput" value="–ò–≥—Ä–æ–∫ 2" maxlength="15">
                </div>
            </div>
            <div class="controls" style="margin-top: 30px;">
                <button class="btn btn-primary" id="startTwoPlayersBtn">
                    <i class="fas fa-play"></i>
                    <span id="startTwoPlayersText">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</span>
                </button>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
        <div class="menu-screen" id="statsScreen">
            <div class="menu-title" id="statsTitle">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-value" id="totalGames">0</div>
                    <div class="stat-label" id="totalGamesLabel">–í—Å–µ–≥–æ –∏–≥—Ä</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="player1WinsTotal">0</div>
                    <div class="stat-label" id="player1WinsTotalLabel">–ü–æ–±–µ–¥ –ò–≥—Ä–æ–∫–∞ 1</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="player2WinsTotal">0</div>
                    <div class="stat-label" id="player2WinsTotalLabel">–ü–æ–±–µ–¥ –ò–≥—Ä–æ–∫–∞ 2</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" id="totalDraws">0</div>
                    <div class="stat-label" id="totalDrawsLabel">–ù–∏—á—å–∏—Ö</div>
                </div>
            </div>
            <div class="controls" style="margin-top: 30px;">
                <button class="btn btn-secondary" id="resetStatsBtn">
                    <i class="fas fa-trash-alt"></i>
                    <span id="resetStatsText">–°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</span>
                </button>
            </div>
        </div>
        
        <!-- –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <div class="menu-screen" id="settingsScreen">
            <div class="menu-title" id="settingsTitle">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
            <div class="settings-options">
                <div class="setting-row">
                    <div class="setting-label" id="soundLabel">–ó–≤—É–∫–∏:</div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="soundToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="setting-row">
                    <div class="setting-label" id="animationsLabel">–ê–Ω–∏–º–∞—Ü–∏–∏:</div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="animationsToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="setting-row">
                    <div class="setting-label" id="highlightLabel">–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ö–æ–¥–∞:</div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="highlightToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="setting-row">
                    <div class="setting-label" id="winLineLabel">–õ–∏–Ω–∏—è –ø–æ–±–µ–¥—ã:</div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="winLineToggle" checked>
                        <span class="toggle-slider"></span>
                    </label>
                </div>
                <div class="setting-row">
                    <div class="setting-label" id="languageLabel">–Ø–∑—ã–∫:</div>
                    <select id="languageSelect" style="padding: 10px; border-radius: 8px; background: rgba(0,0,0,0.3); color: white; border: 1px solid rgba(255,255,255,0.2);">
                        <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                        <option value="en">English</option>
                    </select>
                </div>
            </div>
            <div class="controls" style="margin-top: 30px;">
                <button class="btn btn-primary" id="saveSettingsBtn">
                    <i class="fas fa-save"></i>
                    <span id="saveSettingsText">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                </button>
            </div>
        </div>
        
        <footer>
            <div id="footerText">–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏ &copy; 2023 | –õ–æ–∫–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞ –¥–ª—è –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤</div>
        </footer>
    </div>
    
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</span>
    </div>

    <script>
        // –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
        const translations = {
            ru: {
                gameTitle: "üéÆ –ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏",
                gameSubtitle: "–õ–æ–∫–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞ –¥–ª—è –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤",
                menuPlay: "–ò–≥—Ä–∞—Ç—å",
                menuMultiplayer: "2 –∏–≥—Ä–æ–∫–∞",
                menuStats: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                menuSettings: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
                playersTitle: "–ò–≥—Ä–æ–∫–∏",
                totalGamesLabel: "–í—Å–µ–≥–æ –∏–≥—Ä",
                totalDrawsLabel: "–ù–∏—á—å–∏—Ö",
                newGameText: "–ù–æ–≤–∞—è –∏–≥—Ä–∞",
                restartText: "–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ",
                swapPlayersText: "–ü–æ–º–µ–Ω—è—Ç—å —Å—Ç–æ—Ä–æ–Ω—ã",
                statusMessage: "–•–æ–¥ –∏–≥—Ä–æ–∫–∞: –ò–≥—Ä–æ–∫ 1 (X)",
                modeTwoPlayersName: "2 –∏–≥—Ä–æ–∫–∞",
                modeTwoPlayersDesc: "–ò–≥—Ä–∞–π—Ç–µ –≤–¥–≤–æ–µ–º –Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ",
                modeVsAIName: "–ü—Ä–æ—Ç–∏–≤ –ò–ò",
                modeVsAIDesc: "–°—Ä–∞–∑–∏—Ç–µ—Å—å —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º",
                levelEasy: "–õ–µ–≥–∫–∏–π",
                levelEasyDesc: "–ò–ò –¥–µ–ª–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ —Ö–æ–¥—ã",
                levelMedium: "–°—Ä–µ–¥–Ω–∏–π",
                levelMediumDesc: "–ò–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏",
                levelHard: "–°–ª–æ–∂–Ω—ã–π",
                levelHardDesc: "–ò–ò –ø–æ—á—Ç–∏ –Ω–µ–ø–æ–±–µ–¥–∏–º",
                historyTitle: "–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä",
                clearHistoryText: "–û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é",
                noHistoryText: "–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä –ø—É—Å—Ç–∞",
                menuTitle: "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
                playOptionTitle: "–ò–≥—Ä–∞—Ç—å",
                playOptionDesc: "–ù–∞—á–∞—Ç—å –Ω–æ–≤—É—é –∏–≥—Ä—É",
                twoPlayersOptionTitle: "–î–≤–∞ –∏–≥—Ä–æ–∫–∞",
                twoPlayersOptionDesc: "–ò–≥—Ä–∞—Ç—å –≤–¥–≤–æ–µ–º –Ω–∞ –æ–¥–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ",
                statsOptionTitle: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                statsOptionDesc: "–ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∞—à–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤",
                settingsOptionTitle: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
                settingsOptionDesc: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–≥—Ä—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞",
                twoPlayersTitle: "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–≥—Ä–æ–∫–æ–≤",
                player1Label: "–ò–º—è –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞:",
                player2Label: "–ò–º—è –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞:",
                startTwoPlayersText: "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É",
                statsTitle: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
                player1WinsTotalLabel: "–ü–æ–±–µ–¥ –ò–≥—Ä–æ–∫–∞ 1",
                player2WinsTotalLabel: "–ü–æ–±–µ–¥ –ò–≥—Ä–æ–∫–∞ 2",
                resetStatsText: "–°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É",
                settingsTitle: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
                soundLabel: "–ó–≤—É–∫–∏:",
                animationsLabel: "–ê–Ω–∏–º–∞—Ü–∏–∏:",
                highlightLabel: "–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ö–æ–¥–∞:",
                winLineLabel: "–õ–∏–Ω–∏—è –ø–æ–±–µ–¥—ã:",
                languageLabel: "–Ø–∑—ã–∫:",
                saveSettingsText: "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏",
                footerText: "–ö—Ä–µ—Å—Ç–∏–∫–∏-–Ω–æ–ª–∏–∫–∏ &copy; 2023 | –õ–æ–∫–∞–ª—å–Ω–∞—è –∏–≥—Ä–∞ –¥–ª—è –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤",
                yourTurn: "–í–∞—à —Ö–æ–¥!",
                playerTurn: "–•–æ–¥ –∏–≥—Ä–æ–∫–∞: ",
                playerWins: " –ø–æ–±–µ–¥–∏–ª! üéâ",
                draw: "–ù–∏—á—å—è! ü§ù",
                newGameStarted: "–ù–æ–≤–∞—è –∏–≥—Ä–∞ –Ω–∞—á–∞—Ç–∞!",
                playersSwapped: "–ò–≥—Ä–æ–∫–∏ –ø–æ–º–µ–Ω—è–ª–∏—Å—å —Å—Ç–æ—Ä–æ–Ω–∞–º–∏!",
                historyCleared: "–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä –æ—á–∏—â–µ–Ω–∞",
                statsReset: "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–±—Ä–æ—à–µ–Ω–∞",
                settingsSaved: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã",
                langText: "–†—É—Å—Å–∫–∏–π",
                player1: "–ò–≥—Ä–æ–∫ 1",
                player2: "–ò–≥—Ä–æ–∫ 2",
                ai: "–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç",
                wins: "–ü–æ–±–µ–¥: ",
                score: "–û—á–∫–∏: "
            },
            en: {
                gameTitle: "üéÆ Tic-Tac-Toe",
                gameSubtitle: "Local game for two players",
                menuPlay: "Play",
                menuMultiplayer: "2 Players",
                menuStats: "Statistics",
                menuSettings: "Settings",
                playersTitle: "Players",
                totalGamesLabel: "Total Games",
                totalDrawsLabel: "Draws",
                newGameText: "New Game",
                restartText: "Restart",
                swapPlayersText: "Swap Sides",
                statusMessage: "Player's turn: Player 1 (X)",
                modeTwoPlayersName: "2 Players",
                modeTwoPlayersDesc: "Play together on one device",
                modeVsAIName: "VS AI",
                modeVsAIDesc: "Challenge artificial intelligence",
                levelEasy: "Easy",
                levelEasyDesc: "AI makes random moves",
                levelMedium: "Medium",
                levelMediumDesc: "AI uses basic strategies",
                levelHard: "Hard",
                levelHardDesc: "AI is almost unbeatable",
                historyTitle: "Game History",
                clearHistoryText: "Clear History",
                noHistoryText: "Game history is empty",
                menuTitle: "Main Menu",
                playOptionTitle: "Play",
                playOptionDesc: "Start a new game",
                twoPlayersOptionTitle: "Two Players",
                twoPlayersOptionDesc: "Play together on one device",
                statsOptionTitle: "Statistics",
                statsOptionDesc: "View your results",
                settingsOptionTitle: "Settings",
                settingsOptionDesc: "Game and interface settings",
                twoPlayersTitle: "Player Setup",
                player1Label: "First player name:",
                player2Label: "Second player name:",
                startTwoPlayersText: "Start Game",
                statsTitle: "Statistics",
                player1WinsTotalLabel: "Player 1 Wins",
                player2WinsTotalLabel: "Player 2 Wins",
                resetStatsText: "Reset Statistics",
                settingsTitle: "Settings",
                soundLabel: "Sounds:",
                animationsLabel: "Animations:",
                highlightLabel: "Move highlight:",
                winLineLabel: "Win line:",
                languageLabel: "Language:",
                saveSettingsText: "Save Settings",
                footerText: "Tic-Tac-Toe &copy; 2023 | Local game for two players",
                yourTurn: "Your turn!",
                playerTurn: "Player's turn: ",
                playerWins: " wins! üéâ",
                draw: "Draw! ü§ù",
                newGameStarted: "New game started!",
                playersSwapped: "Players swapped sides!",
                historyCleared: "Game history cleared",
                statsReset: "Statistics reset",
                settingsSaved: "Settings saved",
                langText: "English",
                player1: "Player 1",
                player2: "Player 2",
                ai: "Artificial Intelligence",
                wins: "Wins: ",
                score: "Score: "
            }
        };

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentLanguage = 'ru';
        let gameBoard = Array(9).fill(null);
        let currentPlayer = "X";
        let gameActive = true;
        let isVsAI = false;
        let difficulty = "easy";
        
        // –ò–≥—Ä–æ–∫–∏
        let players = {
            player1: {
                name: "–ò–≥—Ä–æ–∫ 1",
                symbol: "X",
                wins: 0,
                score: 0
            },
            player2: {
                name: "–ò–≥—Ä–æ–∫ 2",
                symbol: "O",
                wins: 0,
                score: 0
            }
        };
        
        // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
        let stats = {
            totalGames: 0,
            totalDraws: 0,
            player1Wins: 0,
            player2Wins: 0
        };
        
        // –ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä
        let gameHistory = [];
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        let settings = {
            sound: true,
            animations: true,
            highlight: true,
            winLine: true
        };
        
        // DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const gameScreen = document.getElementById('gameScreen');
        const menuScreen = document.getElementById('menuScreen');
        const twoPlayersScreen = document.getElementById('twoPlayersScreen');
        const statsScreen = document.getElementById('statsScreen');
        const settingsScreen = document.getElementById('settingsScreen');
        const gameStatus = document.getElementById('gameStatus');
        const gameBoardElement = document.getElementById('gameBoard');
        const playerTurn = document.getElementById('playerTurn');
        const turnText = document.getElementById('turnText');
        const player1Card = document.getElementById('player1Card');
        const player2Card = document.getElementById('player2Card');
        const player1Name = document.getElementById('player1Name');
        const player2Name = document.getElementById('player2Name');
        const player1WinsCount = document.getElementById('player1WinsCount');
        const player2WinsCount = document.getElementById('player2WinsCount');
        const player1ScoreCount = document.getElementById('player1ScoreCount');
        const player2ScoreCount = document.getElementById('player2ScoreCount');
        const totalGamesCount = document.getElementById('totalGamesCount');
        const totalDrawsCount = document.getElementById('totalDrawsCount');
        const newGameBtn = document.getElementById('newGameBtn');
        const restartBtn = document.getElementById('restartBtn');
        const swapPlayersBtn = document.getElementById('swapPlayersBtn');
        const modeTwoPlayers = document.getElementById('modeTwoPlayers');
        const modeVsAI = document.getElementById('modeVsAI');
        const difficultyLevels = document.getElementById('difficultyLevels');
        const levelButtons = document.querySelectorAll('.level-btn');
        const gameHistoryElement = document.getElementById('gameHistory');
        const clearHistoryBtn = document.getElementById('clearHistoryBtn');
        const menuButtons = document.querySelectorAll('.menu-btn');
        const langBtn = document.getElementById('langBtn');
        const langText = document.getElementById('langText');
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notificationText');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        const totalGames = document.getElementById('totalGames');
        const player1WinsTotal = document.getElementById('player1WinsTotal');
        const player2WinsTotal = document.getElementById('player2WinsTotal');
        const totalDraws = document.getElementById('totalDraws');
        const resetStatsBtn = document.getElementById('resetStatsBtn');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫
        const soundToggle = document.getElementById('soundToggle');
        const animationsToggle = document.getElementById('animationsToggle');
        const highlightToggle = document.getElementById('highlightToggle');
        const winLineToggle = document.getElementById('winLineToggle');
        const languageSelect = document.getElementById('languageSelect');
        const saveSettingsBtn = document.getElementById('saveSettingsBtn');
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤
        const player1NameInput = document.getElementById('player1NameInput');
        const player2NameInput = document.getElementById('player2NameInput');
        const startTwoPlayersBtn = document.getElementById('startTwoPlayersBtn');
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function translateUI(lang) {
            currentLanguage = lang;
            const t = translations[lang];
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
            document.getElementById('gameTitle').textContent = t.gameTitle;
            document.getElementById('gameSubtitle').textContent = t.gameSubtitle;
            document.getElementById('menuPlay').textContent = t.menuPlay;
            document.getElementById('menuMultiplayer').textContent = t.menuMultiplayer;
            document.getElementById('menuStats').textContent = t.menuStats;
            document.getElementById('menuSettings').textContent = t.menuSettings;
            document.getElementById('playersTitle').textContent = t.playersTitle;
            document.getElementById('totalGamesLabel').textContent = t.totalGamesLabel;
            document.getElementById('totalDrawsLabel').textContent = t.totalDrawsLabel;
            document.getElementById('newGameText').textContent = t.newGameText;
            document.getElementById('restartText').textContent = t.restartText;
            document.getElementById('swapPlayersText').textContent = t.swapPlayersText;
            document.getElementById('statusMessage').textContent = t.statusMessage;
            document.getElementById('modeTwoPlayersName').textContent = t.modeTwoPlayersName;
            document.getElementById('modeTwoPlayersDesc').textContent = t.modeTwoPlayersDesc;
            document.getElementById('modeVsAIName').textContent = t.modeVsAIName;
            document.getElementById('modeVsAIDesc').textContent = t.modeVsAIDesc;
            document.getElementById('levelEasy').textContent = t.levelEasy;
            document.getElementById('levelEasyDesc').textContent = t.levelEasyDesc;
            document.getElementById('levelMedium').textContent = t.levelMedium;
            document.getElementById('levelMediumDesc').textContent = t.levelMediumDesc;
            document.getElementById('levelHard').textContent = t.levelHard;
            document.getElementById('levelHardDesc').textContent = t.levelHardDesc;
            document.getElementById('historyTitle').textContent = t.historyTitle;
            document.getElementById('clearHistoryText').textContent = t.clearHistoryText;
            document.getElementById('noHistoryText').textContent = t.noHistoryText;
            document.getElementById('menuTitle').textContent = t.menuTitle;
            document.getElementById('playOptionTitle').textContent = t.playOptionTitle;
            document.getElementById('playOptionDesc').textContent = t.playOptionDesc;
            document.getElementById('twoPlayersOptionTitle').textContent = t.twoPlayersOptionTitle;
            document.getElementById('twoPlayersOptionDesc').textContent = t.twoPlayersOptionDesc;
            document.getElementById('statsOptionTitle').textContent = t.statsOptionTitle;
            document.getElementById('statsOptionDesc').textContent = t.statsOptionDesc;
            document.getElementById('settingsOptionTitle').textContent = t.settingsOptionTitle;
            document.getElementById('settingsOptionDesc').textContent = t.settingsOptionDesc;
            document.getElementById('twoPlayersTitle').textContent = t.twoPlayersTitle;
            document.getElementById('player1Label').textContent = t.player1Label;
            document.getElementById('player2Label').textContent = t.player2Label;
            document.getElementById('startTwoPlayersText').textContent = t.startTwoPlayersText;
            document.getElementById('statsTitle').textContent = t.statsTitle;
            document.getElementById('totalGamesLabel').textContent = t.totalGamesLabel;
            document.getElementById('player1WinsTotalLabel').textContent = t.player1WinsTotalLabel;
            document.getElementById('player2WinsTotalLabel').textContent = t.player2WinsTotalLabel;
            document.getElementById('totalDrawsLabel').textContent = t.totalDrawsLabel;
            document.getElementById('resetStatsText').textContent = t.resetStatsText;
            document.getElementById('settingsTitle').textContent = t.settingsTitle;
            document.getElementById('soundLabel').textContent = t.soundLabel;
            document.getElementById('animationsLabel').textContent = t.animationsLabel;
            document.getElementById('highlightLabel').textContent = t.highlightLabel;
            document.getElementById('winLineLabel').textContent = t.winLineLabel;
            document.getElementById('languageLabel').textContent = t.languageLabel;
            document.getElementById('saveSettingsText').textContent = t.saveSettingsText;
            document.getElementById('footerText').textContent = t.footerText;
            langText.textContent = t.langText;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            if (players.player1.name === "–ò–≥—Ä–æ–∫ 1" || players.player1.name === "Player 1") {
                players.player1.name = t.player1;
                player1Name.textContent = t.player1;
                player1NameInput.value = t.player1;
            }
            
            if (players.player2.name === "–ò–≥—Ä–æ–∫ 2" || players.player2.name === "Player 2") {
                players.player2.name = t.player2;
                player2Name.textContent = t.player2;
                player2NameInput.value = t.player2;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            document.querySelectorAll('#player1Wins').forEach(el => {
                el.textContent = t.wins;
                if (el.querySelector('span')) {
                    el.innerHTML = t.wins + '<span id="player1WinsCount">' + players.player1.wins + '</span>';
                }
            });
            
            document.querySelectorAll('#player2Wins').forEach(el => {
                el.textContent = t.wins;
                if (el.querySelector('span')) {
                    el.innerHTML = t.wins + '<span id="player2WinsCount">' + players.player2.wins + '</span>';
                }
            });
            
            document.querySelectorAll('#player1Score').forEach(el => {
                el.textContent = t.score;
                if (el.querySelector('span')) {
                    el.innerHTML = t.score + '<span id="player1ScoreCount">' + players.player1.score + '</span>';
                }
            });
            
            document.querySelectorAll('#player2Score').forEach(el => {
                el.textContent = t.score;
                if (el.querySelector('span')) {
                    el.innerHTML = t.score + '<span id="player2ScoreCount">' + players.player2.score + '</span>';
                }
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Å—Ç–æ—Ä–∏—é –∏–≥—Ä
            updateGameHistory();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∏–≥—Ä—ã
            updateGameStatus();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º —è–∑—ã–∫ –≤ localStorage
            localStorage.setItem('ticTacToeLanguage', lang);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        function showNotification(message) {
            notificationText.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∑–≤—É–∫–∞
        function playSound(soundType) {
            if (!settings.sound) return;
            
            // –°–æ–∑–¥–∞–µ–º –∑–≤—É–∫ —Å –ø–æ–º–æ—â—å—é Web Audio API
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                if (soundType === 'move') {
                    oscillator.frequency.setValueAtTime(440, audioContext.currentTime);
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.1);
                } else if (soundType === 'win') {
                    oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
                    gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.5);
                } else if (soundType === 'draw') {
                    oscillator.frequency.setValueAtTime(329.63, audioContext.currentTime); // E4
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.3);
                    oscillator.start(audioContext.currentTime);
                    oscillator.stop(audioContext.currentTime + 0.3);
                }
            } catch (e) {
                console.log("Web Audio API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è");
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è
        function checkWinner(board) {
            const winPatterns = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // —Å—Ç—Ä–æ–∫–∏
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // —Å—Ç–æ–ª–±—Ü—ã
                [0, 4, 8], [2, 4, 6] // –¥–∏–∞–≥–æ–Ω–∞–ª–∏
            ];
            
            for (let pattern of winPatterns) {
                const [a, b, c] = pattern;
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    return {
                        winner: board[a],
                        pattern: pattern
                    };
                }
            }
            
            return null;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∏—á—å–µ–π
        function isBoardFull(board) {
            return board.every(cell => cell !== null);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∏–≥—Ä—ã
        function updateGameStatus() {
            const winnerInfo = checkWinner(gameBoard);
            const isDraw = isBoardFull(gameBoard) && !winnerInfo;
            
            const t = translations[currentLanguage];
            
            if (winnerInfo) {
                const winner = winnerInfo.winner;
                const winningPlayer = winner === "X" ? players.player1 : players.player2;
                const losingPlayer = winner === "X" ? players.player2 : players.player1;
                
                gameStatus.textContent = winningPlayer.name + t.playerWins;
                gameStatus.className = 'game-status win';
                gameActive = false;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏–≥—Ä–æ–∫–æ–≤
                winningPlayer.wins++;
                winningPlayer.score += 10;
                losingPlayer.score = Math.max(0, losingPlayer.score - 5);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                stats.totalGames++;
                if (winner === "X") {
                    stats.player1Wins++;
                } else {
                    stats.player2Wins++;
                }
                
                // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –ø–æ–±–µ–¥—ã
                playSound('win');
                
                // –î–æ–±–∞–≤–ª—è–µ–º –ª–∏–Ω–∏—é –ø–æ–±–µ–¥—ã
                if (settings.winLine) {
                    drawWinningLine(winnerInfo.pattern);
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∏–≥—Ä—É –≤ –∏—Å—Ç–æ—Ä–∏—é
                addToHistory(winningPlayer.name, losingPlayer.name, winner);
                
            } else if (isDraw) {
                gameStatus.textContent = t.draw;
                gameStatus.className = 'game-status draw';
                gameActive = false;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                stats.totalGames++;
                stats.totalDraws++;
                players.player1.score += 1;
                players.player2.score += 1;
                
                // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ –Ω–∏—á—å–µ–π
                playSound('draw');
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∏–≥—Ä—É –≤ –∏—Å—Ç–æ—Ä–∏—é
                addToHistory(null, null, "draw");
            } else {
                const currentPlayerObj = currentPlayer === "X" ? players.player1 : players.player2;
                gameStatus.textContent = t.playerTurn + currentPlayerObj.name + " (" + currentPlayer + ")";
                gameStatus.className = 'game-status';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            updateStatsDisplay();
            updatePlayerCards();
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–∞–Ω–Ω—ã–µ
            saveGameData();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –ª–∏–Ω–∏–∏ –ø–æ–±–µ–¥—ã
        function drawWinningLine(pattern) {
            // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ª–∏–Ω–∏–∏
            const boardContainer = document.querySelector('.board-container');
            const existingLines = boardContainer.querySelectorAll('.winning-line');
            existingLines.forEach(line => line.remove());
            
            const [a, b, c] = pattern;
            const line = document.createElement('div');
            line.className = 'winning-line';
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –ª–∏–Ω–∏–∏
            const cellSize = boardContainer.offsetWidth / 3;
            const offset = cellSize / 2;
            
            if (pattern[0] === 0 && pattern[1] === 1 && pattern[2] === 2) {
                // –í–µ—Ä—Ö–Ω—è—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
                line.classList.add('line-horizontal');
                line.style.top = offset + 'px';
                line.style.left = '5%';
            } else if (pattern[0] === 3 && pattern[1] === 4 && pattern[2] === 5) {
                // –°—Ä–µ–¥–Ω—è—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
                line.classList.add('line-horizontal');
                line.style.top = cellSize + offset + 'px';
                line.style.left = '5%';
            } else if (pattern[0] === 6 && pattern[1] === 7 && pattern[2] === 8) {
                // –ù–∏–∂–Ω—è—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
                line.classList.add('line-horizontal');
                line.style.top = (cellSize * 2) + offset + 'px';
                line.style.left = '5%';
            } else if (pattern[0] === 0 && pattern[1] === 3 && pattern[2] === 6) {
                // –õ–µ–≤–∞—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
                line.classList.add('line-vertical');
                line.style.left = offset + 'px';
                line.style.top = '5%';
            } else if (pattern[0] === 1 && pattern[1] === 4 && pattern[2] === 7) {
                // –°—Ä–µ–¥–Ω—è—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
                line.classList.add('line-vertical');
                line.style.left = cellSize + offset + 'px';
                line.style.top = '5%';
            } else if (pattern[0] === 2 && pattern[1] === 5 && pattern[2] === 8) {
                // –ü—Ä–∞–≤–∞—è –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ª–∏–Ω–∏—è
                line.classList.add('line-vertical');
                line.style.left = (cellSize * 2) + offset + 'px';
                line.style.top = '5%';
            } else if (pattern[0] === 0 && pattern[1] === 4 && pattern[2] === 8) {
                // –î–∏–∞–≥–æ–Ω–∞–ª—å –∏–∑ –ª–µ–≤–æ–≥–æ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É–≥–ª–∞
                line.classList.add('line-diagonal-1');
                line.style.top = '5%';
                line.style.left = '5%';
            } else if (pattern[0] === 2 && pattern[1] === 4 && pattern[2] === 6) {
                // –î–∏–∞–≥–æ–Ω–∞–ª—å –∏–∑ –ø—Ä–∞–≤–æ–≥–æ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É–≥–ª–∞
                line.classList.add('line-diagonal-2');
                line.style.top = '5%';
                line.style.right = '5%';
            }
            
            boardContainer.appendChild(line);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
        function updateBoard() {
            gameBoardElement.innerHTML = '';
            
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('button');
                cell.className = 'cell';
                cell.dataset.index = i;
                
                if (gameBoard[i]) {
                    cell.textContent = gameBoard[i];
                    cell.classList.add(gameBoard[i].toLowerCase());
                    cell.disabled = true;
                }
                
                // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤—ã–∏–≥—Ä—ã—à–Ω–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏
                const winnerInfo = checkWinner(gameBoard);
                if (winnerInfo && settings.highlight) {
                    const [a, b, c] = winnerInfo.pattern;
                    if (a === i || b === i || c === i) {
                        cell.classList.add('winning-cell');
                    }
                }
                
                cell.addEventListener('click', () => makeMove(i));
                gameBoardElement.appendChild(cell);
            }
            
            // –û—Ç–∫–ª—é—á–∞–µ–º –∫–ª–µ—Ç–∫–∏, –µ—Å–ª–∏ –∏–≥—Ä–∞ –Ω–µ –∞–∫—Ç–∏–≤–Ω–∞
            const cells = document.querySelectorAll('.cell');
            cells.forEach(cell => {
                if (!gameActive || gameBoard[cell.dataset.index]) {
                    cell.disabled = true;
                } else {
                    cell.disabled = false;
                }
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
            updatePlayerTurnIndicator();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
        function updatePlayerTurnIndicator() {
            const t = translations[currentLanguage];
            const currentPlayerObj = currentPlayer === "X" ? players.player1 : players.player2;
            
            turnText.innerHTML = t.playerTurn + '<strong>' + currentPlayerObj.name + ' (' + currentPlayer + ')</strong>';
            
            if (currentPlayer === "X") {
                playerTurn.className = 'player-turn x-turn';
            } else {
                playerTurn.className = 'player-turn o-turn';
            }
            
            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞
            if (currentPlayer === "X") {
                player1Card.classList.add('active');
                player2Card.classList.remove('active');
            } else {
                player1Card.classList.remove('active');
                player2Card.classList.add('active');
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ö–æ–¥–∞
        function makeMove(position) {
            if (!gameActive || gameBoard[position]) {
                return;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
            gameBoard[position] = currentPlayer;
            
            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –∑–≤—É–∫ —Ö–æ–¥–∞
            playSound('move');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateBoard();
            updateGameStatus();
            
            // –ï—Å–ª–∏ –∏–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –ò–ò –∏ –∏–≥—Ä–∞ –µ—â–µ –∞–∫—Ç–∏–≤–Ω–∞
            if (isVsAI && gameActive && currentPlayer === players.player2.symbol) {
                setTimeout(() => makeAIMove(), 500);
            } else if (gameActive) {
                // –ú–µ–Ω—è–µ–º –∏–≥—Ä–æ–∫–∞
                currentPlayer = currentPlayer === "X" ? "O" : "X";
                updatePlayerTurnIndicator();
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ö–æ–¥–∞ –ò–ò
        function makeAIMove() {
            if (!gameActive || currentPlayer !== players.player2.symbol) return;
            
            let position;
            
            if (difficulty === "easy") {
                // –õ–µ–≥–∫–∏–π —É—Ä–æ–≤–µ–Ω—å: —Å–ª—É—á–∞–π–Ω—ã–µ —Ö–æ–¥—ã
                position = getRandomMove();
            } else if (difficulty === "medium") {
                // –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å: 50% —Å–ª—É—á–∞–π–Ω—ã–µ, 50% —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —Ö–æ–¥—ã
                position = Math.random() > 0.5 ? getStrategicMove() : getRandomMove();
            } else {
                // –°–ª–æ–∂–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å: —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —Ö–æ–¥—ã (–∞–ª–≥–æ—Ä–∏—Ç–º –º–∏–Ω–∏–º–∞–∫—Å)
                position = getBestMove();
            }
            
            if (position !== -1) {
                makeMove(position);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ö–æ–¥–∞
        function getRandomMove() {
            const availableMoves = [];
            for (let i = 0; i < 9; i++) {
                if (!gameBoard[i]) availableMoves.push(i);
            }
            
            if (availableMoves.length === 0) return -1;
            
            return availableMoves[Math.floor(Math.random() * availableMoves.length)];
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ö–æ–¥–∞
        function getStrategicMove() {
            const aiSymbol = players.player2.symbol;
            const humanSymbol = players.player1.symbol;
            
            // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ—Ç –ª–∏ –ò–ò –≤—ã–∏–≥—Ä–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º —Ö–æ–¥–æ–º
            for (let i = 0; i < 9; i++) {
                if (!gameBoard[i]) {
                    gameBoard[i] = aiSymbol;
                    if (checkWinner(gameBoard) && checkWinner(gameBoard).winner === aiSymbol) {
                        gameBoard[i] = null;
                        return i;
                    }
                    gameBoard[i] = null;
                }
            }
            
            // 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º, –º–æ–∂–µ—Ç –ª–∏ –∏–≥—Ä–æ–∫ –≤—ã–∏–≥—Ä–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º —Ö–æ–¥–æ–º, –∏ –±–ª–æ–∫–∏—Ä—É–µ–º
            for (let i = 0; i < 9; i++) {
                if (!gameBoard[i]) {
                    gameBoard[i] = humanSymbol;
                    if (checkWinner(gameBoard) && checkWinner(gameBoard).winner === humanSymbol) {
                        gameBoard[i] = null;
                        return i;
                    }
                    gameBoard[i] = null;
                }
            }
            
            // 3. –ó–∞–Ω–∏–º–∞–µ–º —Ü–µ–Ω—Ç—Ä, –µ—Å–ª–∏ –æ–Ω —Å–≤–æ–±–æ–¥–µ–Ω
            if (!gameBoard[4]) return 4;
            
            // 4. –ó–∞–Ω–∏–º–∞–µ–º —É–≥–ª—ã
            const corners = [0, 2, 6, 8];
            const availableCorners = corners.filter(i => !gameBoard[i]);
            if (availableCorners.length > 0) {
                return availableCorners[Math.floor(Math.random() * availableCorners.length)];
            }
            
            // 5. –ó–∞–Ω–∏–º–∞–µ–º —Å—Ç–æ—Ä–æ–Ω—ã
            const sides = [1, 3, 5, 7];
            const availableSides = sides.filter(i => !gameBoard[i]);
            if (availableSides.length > 0) {
                return availableSides[Math.floor(Math.random() * availableSides.length)];
            }
            
            return -1;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª—É—á—à–µ–≥–æ —Ö–æ–¥–∞ (–∞–ª–≥–æ—Ä–∏—Ç–º –º–∏–Ω–∏–º–∞–∫—Å)
        function getBestMove() {
            const aiSymbol = players.player2.symbol;
            const humanSymbol = players.player1.symbol;
            
            // –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –º–∏–Ω–∏–º–∞–∫—Å
            function minimax(board, depth, isMaximizing) {
                const winnerInfo = checkWinner(board);
                
                if (winnerInfo && winnerInfo.winner === aiSymbol) {
                    return 10 - depth;
                } else if (winnerInfo && winnerInfo.winner === humanSymbol) {
                    return depth - 10;
                } else if (isBoardFull(board)) {
                    return 0;
                }
                
                if (isMaximizing) {
                    let bestScore = -Infinity;
                    for (let i = 0; i < 9; i++) {
                        if (!board[i]) {
                            board[i] = aiSymbol;
                            const score = minimax(board, depth + 1, false);
                            board[i] = null;
                            bestScore = Math.max(score, bestScore);
                        }
                    }
                    return bestScore;
                } else {
                    let bestScore = Infinity;
                    for (let i = 0; i < 9; i++) {
                        if (!board[i]) {
                            board[i] = humanSymbol;
                            const score = minimax(board, depth + 1, true);
                            board[i] = null;
                            bestScore = Math.min(score, bestScore);
                        }
                    }
                    return bestScore;
                }
            }
            
            let bestMove = -1;
            let bestScore = -Infinity;
            
            for (let i = 0; i < 9; i++) {
                if (!gameBoard[i]) {
                    gameBoard[i] = aiSymbol;
                    const score = minimax(gameBoard, 0, false);
                    gameBoard[i] = null;
                    
                    if (score > bestScore) {
                        bestScore = score;
                        bestMove = i;
                    }
                }
            }
            
            return bestMove;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        function updateStatsDisplay() {
            player1WinsCount.textContent = players.player1.wins;
            player2WinsCount.textContent = players.player2.wins;
            player1ScoreCount.textContent = players.player1.score;
            player2ScoreCount.textContent = players.player2.score;
            totalGamesCount.textContent = stats.totalGames;
            totalDrawsCount.textContent = stats.totalDraws;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞ —ç–∫—Ä–∞–Ω–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            totalGames.textContent = stats.totalGames;
            player1WinsTotal.textContent = stats.player1Wins;
            player2WinsTotal.textContent = stats.player2Wins;
            totalDraws.textContent = stats.totalDraws;
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–µ–∫ –∏–≥—Ä–æ–∫–æ–≤
        function updatePlayerCards() {
            player1Name.textContent = players.player1.name;
            player2Name.textContent = players.player2.name;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏–º–≤–æ–ª—ã
            document.querySelector('#player1Card .player-symbol').textContent = players.player1.symbol;
            document.querySelector('#player2Card .player-symbol').textContent = players.player2.symbol;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã —Å–∏–º–≤–æ–ª–æ–≤
            const player1Symbol = document.querySelector('#player1Card .player-symbol');
            const player2Symbol = document.querySelector('#player2Card .player-symbol');
            
            player1Symbol.className = 'player-symbol ' + players.player1.symbol.toLowerCase();
            player2Symbol.className = 'player-symbol ' + players.player2.symbol.toLowerCase();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä—ã –≤ –∏—Å—Ç–æ—Ä–∏—é
        function addToHistory(winner, loser, result) {
            const t = translations[currentLanguage];
            const now = new Date();
            const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            
            let resultText;
            if (result === "draw") {
                resultText = t.draw;
            } else {
                resultText = winner + " " + t.playerWins.toLowerCase();
            }
            
            const gameEntry = {
                id: gameHistory.length + 1,
                time: timeString,
                result: resultText,
                winner: winner,
                loser: loser,
                resultType: result
            };
            
            gameHistory.unshift(gameEntry); // –î–æ–±–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ
            if (gameHistory.length > 10) {
                gameHistory.pop(); // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é 10 –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –∏–≥—Ä–∞–º–∏
            }
            
            updateGameHistory();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –∏–≥—Ä
        function updateGameHistory() {
            gameHistoryElement.innerHTML = '';
            
            if (gameHistory.length === 0) {
                gameHistoryElement.innerHTML = '<div class="no-history">' + translations[currentLanguage].noHistoryText + '</div>';
                return;
            }
            
            gameHistory.forEach(entry => {
                const historyItem = document.createElement('div');
                historyItem.className = 'player-item';
                
                let resultClass = '';
                if (entry.resultType === "draw") {
                    resultClass = 'draw';
                } else if (entry.winner === players.player1.name) {
                    resultClass = 'player1-win';
                } else {
                    resultClass = 'player2-win';
                }
                
                historyItem.innerHTML = `
                    <div>
                        <div style="font-weight: bold; margin-bottom: 5px;">${entry.result}</div>
                        <div style="font-size: 0.8rem; color: var(--gray-color);">${entry.time}</div>
                    </div>
                    <div class="symbol ${entry.resultType === 'X' ? 'x' : entry.resultType === 'O' ? 'o' : 'draw'}">
                        ${entry.resultType === 'draw' ? '=' : entry.resultType}
                    </div>
                `;
                
                gameHistoryElement.appendChild(historyItem);
            });
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–π –∏–≥—Ä—ã
        function startNewGame() {
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∏–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ
            gameBoard = Array(9).fill(null);
            gameActive = true;
            currentPlayer = "X";
            
            // –£–¥–∞–ª—è–µ–º –ª–∏–Ω–∏–∏ –ø–æ–±–µ–¥—ã
            const boardContainer = document.querySelector('.board-container');
            const existingLines = boardContainer.querySelectorAll('.winning-line');
            existingLines.forEach(line => line.remove());
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updateBoard();
            updateGameStatus();
            
            // –ï—Å–ª–∏ –∏–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –ò–ò –∏ –ò–ò –∏–≥—Ä–∞–µ—Ç –∑–∞ X
            if (isVsAI && players.player1.symbol === "O") {
                setTimeout(() => makeAIMove(), 500);
            }
            
            showNotification(translations[currentLanguage].newGameStarted);
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ –∏–≥—Ä—ã
        function switchGameMode(mode) {
            isVsAI = mode === 'ai';
            
            if (mode === 'twoPlayers') {
                difficultyLevels.style.display = 'none';
                players.player2.name = currentLanguage === 'ru' ? '–ò–≥—Ä–æ–∫ 2' : 'Player 2';
            } else {
                difficultyLevels.style.display = 'grid';
                players.player2.name = currentLanguage === 'ru' ? '–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç' : 'Artificial Intelligence';
            }
            
            updatePlayerCards();
            startNewGame();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–º–µ–Ω—ã —Å—Ç–æ—Ä–æ–Ω –∏–≥—Ä–æ–∫–æ–≤
        function swapPlayers() {
            // –ú–µ–Ω—è–µ–º —Å–∏–º–≤–æ–ª—ã –∏–≥—Ä–æ–∫–æ–≤
            const tempSymbol = players.player1.symbol;
            players.player1.symbol = players.player2.symbol;
            players.player2.symbol = temp;
            
            // –ï—Å–ª–∏ –∏–≥—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –ò–ò, –º–µ–Ω—è–µ–º —Ç–æ–ª—å–∫–æ —Å–∏–º–≤–æ–ª—ã, –Ω–æ –Ω–µ –∏–º–µ–Ω–∞
            if (!isVsAI) {
                // –ú–µ–Ω—è–µ–º –∏–º–µ–Ω–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
                const tempName = players.player1.name;
                players.player1.name = players.player2.name;
                players.player2.name = tempName;
                
                // –ú–µ–Ω—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                const tempWins = players.player1.wins;
                const tempScore = players.player1.score;
                players.player1.wins = players.player2.wins;
                players.player1.score = players.player2.score;
                players.player2.wins = tempWins;
                players.player2.score = tempScore;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
            currentPlayer = players.player1.symbol;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updatePlayerCards();
            updateStatsDisplay();
            updatePlayerTurnIndicator();
            
            showNotification(translations[currentLanguage].playersSwapped);
            startNewGame();
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä—ã
        function saveGameData() {
            const gameData = {
                players: players,
                stats: stats,
                gameHistory: gameHistory,
                settings: settings,
                language: currentLanguage
            };
            
            localStorage.setItem('ticTacToeData', JSON.stringify(gameData));
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä—ã
        function loadGameData() {
            const savedData = localStorage.getItem('ticTacToeData');
            if (savedData) {
                const gameData = JSON.parse(savedData);
                
                players = gameData.players || players;
                stats = gameData.stats || stats;
                gameHistory = gameData.gameHistory || gameHistory;
                settings = gameData.settings || settings;
                currentLanguage = gameData.language || currentLanguage;
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                soundToggle.checked = settings.sound;
                animationsToggle.checked = settings.animations;
                highlightToggle.checked = settings.highlight;
                winLineToggle.checked = settings.winLine;
                languageSelect.value = currentLanguage;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                updatePlayerCards();
                updateStatsDisplay();
                updateGameHistory();
                translateUI(currentLanguage);
            }
        }
        
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏
        function switchScreen(screenId) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            gameScreen.style.display = 'none';
            menuScreen.style.display = 'none';
            twoPlayersScreen.style.display = 'none';
            statsScreen.style.display = 'none';
            settingsScreen.style.display = 'none';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω
            if (screenId === 'game') {
                gameScreen.style.display = 'grid';
            } else if (screenId === 'menu') {
                menuScreen.style.display = 'flex';
            } else if (screenId === 'twoPlayers') {
                twoPlayersScreen.style.display = 'flex';
            } else if (screenId === 'stats') {
                statsScreen.style.display = 'flex';
            } else if (screenId === 'settings') {
                settingsScreen.style.display = 'flex';
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        function init() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã
            loadGameData();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
            updateBoard();
            updateGameStatus();
            updatePlayerCards();
            updateStatsDisplay();
            updateGameHistory();
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–Ω–æ–ø–æ–∫ –º–µ–Ω—é
            menuButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —É –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
                    menuButtons.forEach(btn => btn.classList.remove('active'));
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –Ω–∞–∂–∞—Ç–æ–π –∫–Ω–æ–ø–∫–µ
                    button.classList.add('active');
                    
                    // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —ç–∫—Ä–∞–Ω
                    const screen = button.getAttribute('data-screen');
                    if (screen === 'game') {
                        switchScreen('game');
                    } else if (screen === 'multiplayer') {
                        switchScreen('twoPlayers');
                    } else if (screen === 'stats') {
                        switchScreen('stats');
                    } else if (screen === 'settings') {
                        switchScreen('settings');
                    }
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –æ–ø—Ü–∏–π –º–µ–Ω—é
            document.getElementById('playOption').addEventListener('click', () => {
                switchScreen('game');
                document.getElementById('playBtn').click();
            });
            
            document.getElementById('twoPlayersOption').addEventListener('click', () => {
                switchScreen('twoPlayers');
                document.getElementById('multiplayerBtn').click();
            });
            
            document.getElementById('statsOption').addEventListener('click', () => {
                switchScreen('stats');
                document.getElementById('statsBtn').click();
            });
            
            document.getElementById('settingsOption').addEventListener('click', () => {
                switchScreen('settings');
                document.getElementById('settingsBtn').click();
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            newGameBtn.addEventListener('click', startNewGame);
            restartBtn.addEventListener('click', startNewGame);
            swapPlayersBtn.addEventListener('click', swapPlayers);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Ä–µ–∂–∏–º–æ–≤ –∏–≥—Ä—ã
            modeTwoPlayers.addEventListener('click', () => {
                modeTwoPlayers.classList.add('active');
                modeVsAI.classList.remove('active');
                switchGameMode('twoPlayers');
            });
            
            modeVsAI.addEventListener('click', () => {
                modeTwoPlayers.classList.remove('active');
                modeVsAI.classList.add('active');
                switchGameMode('ai');
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
            levelButtons.forEach(button => {
                button.addEventListener('click', () => {
                    levelButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    difficulty = button.getAttribute('data-level');
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏
            clearHistoryBtn.addEventListener('click', () => {
                if (confirm(currentLanguage === 'ru' ? 
                    '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–≥—Ä?' : 
                    'Are you sure you want to clear game history?')) {
                    
                    gameHistory = [];
                    updateGameHistory();
                    saveGameData();
                    showNotification(translations[currentLanguage].historyCleared);
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —è–∑—ã–∫–∞
            langBtn.addEventListener('click', () => {
                const newLang = currentLanguage === 'ru' ? 'en' : 'ru';
                translateUI(newLang);
                languageSelect.value = newLang;
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Å–±—Ä–æ—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            resetStatsBtn.addEventListener('click', () => {
                if (confirm(currentLanguage === 'ru' ? 
                    '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Å–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É?' : 
                    'Are you sure you want to reset statistics?')) {
                    
                    stats = {
                        totalGames: 0,
                        totalDraws: 0,
                        player1Wins: 0,
                        player2Wins: 0
                    };
                    
                    players.player1.wins = 0;
                    players.player1.score = 0;
                    players.player2.wins = 0;
                    players.player2.score = 0;
                    
                    updateStatsDisplay();
                    saveGameData();
                    showNotification(translations[currentLanguage].statsReset);
                }
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
            saveSettingsBtn.addEventListener('click', () => {
                settings.sound = soundToggle.checked;
                settings.animations = animationsToggle.checked;
                settings.highlight = highlightToggle.checked;
                settings.winLine = winLineToggle.checked;
                
                saveGameData();
                showNotification(translations[currentLanguage].settingsSaved);
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
            languageSelect.addEventListener('change', (e) => {
                translateUI(e.target.value);
                saveGameData();
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã –¥–≤—É–º—è –∏–≥—Ä–æ–∫–∞–º–∏
            startTwoPlayersBtn.addEventListener('click', () => {
                players.player1.name = player1NameInput.value || translations[currentLanguage].player1;
                players.player2.name = player2NameInput.value || translations[currentLanguage].player2;
                
                updatePlayerCards();
                switchScreen('game');
                document.getElementById('playBtn').click();
                startNewGame();
            });
            
            // –ó–∞–ø–æ–ª–Ω—è–µ–º –∏–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–æ–≤ –≤ —Ñ–æ—Ä–º–µ
            player1NameInput.value = players.player1.name;
            player2NameInput.value = players.player2.name;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            switchScreen('menu');
        }
        
        // –ó–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
